plugins {
	 id "java"
}
java {
    modularity.inferModulePath = true
}
repositories {
	mavenCentral()
}
dependencies {
	implementation project(":Conquer")
	implementation project(":ConquerFrontendSPI")
	implementation project(":music")
}
compileJava {
	options.fork = true
	options.incremental = true
}
tasks.withType(JavaCompile).each {
	it.options.compilerArgs.add("--enable-preview")
	it.options.compilerArgs.add("--target")
	it.options.compilerArgs.add("15")
}
jar {
	exclude "**/*.properties"
	exclude "music"
	exclude "images"
	jar.baseName = 'Conquer_frontend'
}
task conquerResources(type: Jar) {
    from sourceSets.main.output
    exclude "**/*.class"
    baseName = 'Conquer_frontend_resources'
}
conquerResources.dependsOn(":music:buildMusic")
conquerResources.mustRunAfter ":music:buildMusic"
jar.dependsOn(conquerResources);
